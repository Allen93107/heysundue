@model Heysundue.Models.Sessionuser

<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新增報名人員</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">報名表 - 新增人員</h2>
        <form id="registerForm" method="post" action="@Url.Action("AddSessionuregister", "Sessionuser")">
    <!-- Meeting Selector -->
    <div class="mb-3">
        <label for="MeetingID" class="form-label">選擇會議</label>
        <select id="MeetingID" name="MeetingID" class="form-select" required>
            <!-- Meeting options loaded via jQuery -->
        </select>
    </div>

    <!-- Registration Data Fields -->
    <div class="mb-3">
    <label for="RegNo" class="form-label">編號 (RegNo)</label>
    <select id="RegNo" name="RegNo" class="form-select" required>
        <option value="S">S</option>
        <option value="G">G</option>
        <option value="FA">FA</option>
        <option value="PO">PO</option>
        <option value="RG">RG</option>
        <option value="SP">SP</option>
        <option value="ST">ST</option>
    </select>
</div>
    <div class="mb-3">
        <label for="FirstName" class="form-label">名字</label>
        <input type="text" id="FirstName" name="FirstName" class="form-control" required>
    </div>
    <div class="mb-3">
        <label for="LastName" class="form-label">姓氏</label>
        <input type="text" id="LastName" name="LastName" class="form-control" required>
    </div>
    <div class="mb-3">
        <label for="ChineseName" class="form-label">中文姓名</label>
        <input type="text" id="ChineseName" name="ChineseName" class="form-control">
    </div>
    <div class="mb-3">
        <label for="Email" class="form-label">電子郵件</label>
        <input type="email" id="Email" name="Email" class="form-control">
    </div>
    <div class="mb-3">
        <label for="City" class="form-label">城市</label>
        <input type="text" id="City" name="City" class="form-control">
    </div>
    <div class="mb-3">
        <label for="Country" class="form-label">國家</label>
        <input type="text" id="Country" name="Country" class="form-control">
    </div>
    <div class="mb-3">
        <label for="IdentityType1" class="form-label">身份別一</label>
        <input type="text" id="IdentityType1" name="IdentityType1" class="form-control">
    </div>
    <div class="mb-3">
        <label for="IdentityType2" class="form-label">身份別二</label>
        <input type="text" id="IdentityType2" name="IdentityType2" class="form-control">
    </div>
    <div class="mb-3">
        <label for="IDNumber" class="form-label">身份證號碼</label>
        <input type="text" id="IDNumber" name="IDNumber" class="form-control">
    </div>

    <div class="mb-3">
        <label for="Phone" class="form-label">連絡電話</label>
        <input type="text" id="Phone" name="Phone" class="form-control">
    </div>

    <!-- Action Buttons -->
    <div class="text-center">
        <button type="submit" class="btn btn-primary">提交</button>
        <button type="button" class="btn btn-secondary" onclick="window.history.back()">取消</button>
    </div>
</form>

    </div>

    <!-- 加載 jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function() {
            // 初始化頁面時自動加載會議列表
            loadMeetingOptions();
        });

        // 加載會議選項
        function loadMeetingOptions() {
            $.getJSON('/Sessionuser/GetMeetings', function(data) {
                $('#MeetingID').empty();
                if (data && data.length > 0) {
                    $.each(data, function(index, meeting) {
                        $('#MeetingID').append(new Option(meeting.title, meeting.id));
                    });
                } else {
                    $('#MeetingID').append(new Option("無會議", ""));
                }
            }).fail(function(jqXHR, textStatus, errorThrown) {
                console.error("Failed to load meetings:", textStatus, errorThrown);
            });
        }
    </script>
</body>
</html>
